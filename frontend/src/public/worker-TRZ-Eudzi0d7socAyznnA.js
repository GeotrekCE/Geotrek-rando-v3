(()=>{"use strict";const e="trek-pages";self.addEventListener("fetch",(t=>{var s,a;(t.request.url.includes("/trek/")||t.request.url.includes("/service/"))&&t.respondWith((s=t.request,a=1e4,new Promise(((e,t)=>{const c=setTimeout(t,a);fetch(s).then((t=>{clearTimeout(c),e(t)}),t)}))).catch((()=>(async t=>{const s=await caches.open(e);return await s.match(t)||s.match("/offline/")})(t.request))))})),self.addEventListener("activate",(async()=>(await caches.open("offline")).add("/offline")))})();